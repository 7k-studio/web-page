<!--
Copyright (C) 2025 Jakub Kamyk

This file is part of Deadalus.

Deadalus is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 3 of the License, or
(at your option) any later version.

Deadalus is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Deadalus.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Changelog</title>

  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

  <!-- Top Header -->
  <header>
      <img src="assets/logo.png" alt="Program Logo" height="40"/>
      <div>
        <p style="font-size: xx-large; margin-top: 0px; margin-bottom: 0px;">Deadalus User Manual</p>
        <p style="font-size: smaller; margin-top: 0px; margin-bottom: 0px;">for the version: v0.3.2beta</p>
      </div>
  </header>

  <!-- Top Navigation Menu -->
  <div class="section-menu">
    <a href="user_manual.html" class="button-link">Deadalus</a>
    <a href="airfoil_designer.html" class="button-link">Airfoil Designer</a>
    <a href="wing_designer.html" class="button-link">Wing Designer</a>
    <button onclick="('changelog')">Changelog</button>
  </div>

  <!-- Main App Area -->
  <div class="container" style="display: flex; flex-direction: row;">
    <!-- Sidebar Menu -->
    <nav class="sidebar">
      <h3>Contents</h3>
    </nav>

    <!-- Change Log Page -->
    <div id="changelog" class="page-section active">
      <h1>Project Changelog</h1>

    
  <div id="changelog-container" style="padding: 50px;"></div>

  <!-- ✏️ Paste and edit your changelog here -->
  <script id="markdown-source" type="text/plain">
@ Deadalus v0.3.2beta

## Bugfixing
### Airfoil Designer
#### Flip Airfoil
Resolved attribute error when flipping airfoil horizontaly

## New Features
### Splash screen
There are new buttons added to the splash screen not only does it have 'New' and 'Open' but now button to get right away to User Manual was added along side with Realse notes on GitHub (may require ethernet access)

### About 
Slight corrections to the About menu. It now shows the program name as well as detailed informations about programing language used as well infos about libraries to make the program working, giving credit the their creators.

### User Manual
User Manual has been updated giving the basic info about program and its modules with independent changelog so it works without ethernet access. 
More info has been given about modules with pictures and some tips that may have been hidden from the user.

---
@ Deadalus v0.3.1beta

## Bugfixing

### Logger
In this version a logger is introduced as a better way for debuging a program errors. Now background console no longer appears on screen. Program creates a toolout.log file which can help in solving issues with program and in raporting errors.

### Airfoil Designer
Coorected an error on Showing Reference where a small name deviation in selig format caused whole program to crash. Now no 'Name:' is reqired in front of accual name.
Repaired the issue with Appending an airfoil from newer formats of program.
Hopefully a program is now more crash resistant.

... and probably added new bugs

---
@ Deadalus v0.3.0beta

Small rebranding to _Deadalus_. Less corporate name. As it is well know Deadalus (greek mythos hero) was the designer and the first person to create wing. Now you can do so!
**Possible STEP file export!**

## Program
From v0.3.0 version **new format of saved project** is introduced. Every object is now inside only one file, and connections via ID are between object ensuring correct object assignment on project load-up.

**Preferences** are now **adjusted** to the newest settings introducing more customization for Airfoil Designer and Wing Designer. Units setcion is introced, but only one setting is for now available. Also new way of setting program performance is introduced. 

**User manual** is **now available** and will be developed to help with program handling.

New bar dropdown _Program_ is introduced. It stores functions: **About**, **User Manual**, **Preferences**

## Airfoil Designer
Inside airfoil designer you can create an airfoil out of 4 splines representing: leading edge **LE**, trailing edge **TE**, pressure side **PS**, and suction side **SS**.
### Viewport
Huge chagne in viewport as it is now using OpenGL to visualize created airfoils. 
1. **Grid**: now grid is being displayed which adjusts depending on the zoom level. It can be turned on/off inside preferences/airfoil
2. **Ruler**: ruler with ticks is being displayed with unit and value. It also adjusts to the level of zoom. It can be turned no/off inside preferences/airfoil
3. **Control points**: points which define the splines. It reacts to the parameters reaction. It can be turned no/off inside preferences/airfoil
4. **Construction**: connects control points using dashed line. It can be turned no/off inside preferences/airfoil
5. **Wireframe**: shows established spline of created airfoils. Each spline has its own distingushing color. It can be turned no/off inside preferences/airfoil.

### Objects list

Visible in top right corner of the airfoil designer window. Shows all the airfoils inside the current project. Table shows parameters such as:
1. **Name**
2. **Last modification** date
3. **Creation date**
4. **Description**

### Parameters table
Shows all the required parameters to create wing. Parameters are displayed in columns:

1. **Parameter** - name
2. **Value** - with buttons to adjust input and keyboard-input
3. **Nominal** - value before paremeters adjustement

### Reference 
Program allows to sshow reference from .dat/.txt file which uses Selig format data, e.g.:
`Name: NACAXXXX`
`1.0000  0.0000`
`... ...`
`X-coordinate Y-coordinate`

Reference is than displayed as grey airfoil behind main airfoil.

## Wing Designer
Wing designer as before consits of Object Tree Menu, Viewpot and Parameter Table. **Wing created inside this module can now be fully exported to the .step file format.** It feel like this is the most crucial change is whole program. So far .STEP export is tested on single wing G0-G0 connection (4x2 uv grid), G1-G0 connection (4x3 uv grid) and G1-G1 connection (4x4 uv grid). It wars for multi-segment wings. Not tested yet for multi wing components. 

### Object tree
Object tree stores information about objects and it's parents. As previously 3 types of objects are available: **Component**, **Wing**, **Segment**. Only change is that, when new segment is added it now shift 0.1 unit to the side to avoid overlaping. User can now add and delete objects.

### Viewport
3D viewport was recreated using OpenGL. Now user can rotate, pan and zoom as in typical CAD software. Inside viewport user can see:

1. **Grid**: on XZ plane to give user a reference of space. It can be turned no/off inside preferences/airfoil.
2. **Control Points**: show construction points of UV grids required for NURBS surfaces. It can be turned no/off inside preferences/airfoil.
3. **Construction**: Shows connection between UV grid points. It can be turned no/off inside preferences/airfoil.
4. **Wireframe**: Shows wireframe of 3D object. It can be turned no/off inside preferences/airfoil.
5. **Surfaces**: Shows NURBS surfaces created out of UV grids

Using _geomdl_ for establishing NURBS surface program can be laggy when having a lot of surfaces!

### Parameter Table
Shows parameters of objects. More in sure manual.

## Final note
Program should be more stable than previous v0.1.0 release. But feel free to notify me if anything doesnt work as expected. Have a great time creating something new!

---
@ Deadalus v0.2.X beta

---

**NOTE** THIS VERSION HAS NEVER BEEN PUBLISHED

---

### Summary
- Introduction of project/file **save and load functionality**.  
- Resolved display issues with **overlapping OpenGL elements** — objects no longer stack up, and colors and viewport appear more stable.  
- **GUI stabilization** in Wing Workbench (reduced widget adjustability). This change positively affected the `ComboBox` in the *Parameters Table*.  

### Currently Available Elements and Functions

#### **Airfoil Designer**
- **File**
  - **New**: Clears the tree menu and resets the project.  
  - **Open**: Opens an existing project from a `db.tgz` database.  
  - **Save**: Saves the current project to `db.tgz`, containing:
    - All airfoil parameters (`.arf` files)  
    - Program and wing parameters (`.Deadalus` file)  

- **Edit Menu**
  - **Create**: Creates a new airfoil.  
  - **Append**: Appends an airfoil from an existing `.arf` file.  
  - **Delete**: Deletes the selected airfoil.  
  - **Save**: Saves an airfoil to an `.arf` file.  
  - **Export**: Exports an airfoil to a `.dxf` file.  
  - **Rename**: Renames an airfoil.  
  - **Edit Description**: Edits the description of an airfoil.  
  - **Fit2Reference**: Fits an airfoil to a reference airfoil (**beta feature**).  

- **View**
  - **Show Reference**: Displays the reference airfoil in **SELIG format**.  

- **Module**
  - **Wing Module**: Opens the **Wing Workbench**.  

- **Program**
  - **About**: Displays the About window (informational).  
  - **Preferences**: Opens the Preferences window to adjust program settings.  

---
@ Deadalus v0.1.X beta

More like a absolute minimum to showcase functionality for designing own airfoils. In this version program is stable in Airfoil Designer, and the functionaliy of Wing Workbench is kept as a teaser raher than function.  Project is available at the old name AirFLOW which is no longer the case as "Deadalus" will be an official projects name.

## Airfoil Designer
Airfoil Designer allows to create own profiles using parameters. Parameters are displayed inside a table and using arrows user can change the value. Nominal delta is 0.1 unit but holding SHIFT unit is 1 and CTRL unit is 0.01. 
Inside airfoil designer user can create / delete / save or export airoils. Airfoils are displayed in tree menu using it's name. Airofil is displayed in MatPlotLib viewport providing:

1. Airfoil geometry
2. Control Points
3. Construction polyline

For user a BAR MENU is available.
### BAR MENU
Provides really basic functionality

FILE:
- NEW: creates new file by erasing stored data
- OPEN: opens saved project
- SAVE: saves a project (saving convention is changed since v0.3.0)
- PREFERENCES: opens preferences window

EDIT functions are:
- CREATE: creates a new airfoil
- APPEND: appends already existing airfoil from dedicated file format
- SAVE: saves created airfoil to dedicated file format
- DELETE: deletes unnecessary airfoil
- EXPORT: exports an airfoil to DXF format
- FLIP AIRFOIL: Changes Suction Side with Pressure Side by flipping airfoil horizontally
- RENAME: changes the name of an airfoil
- EDIT DESCRIPTION: changes the description of an airfoil

VIEW:
- SHOW REFERENCE: allows to show reference from selig format airfoil (X,Y coordinates)

MODULE:
- WING MODULE: open wing module (beta)

HELP:
- ABOUT: shows about 

## Wing Workbench
Allows user to create 3D wing using established airfoils. Module hasn't been tested, and requires a lot of additional works. But has been left as a beta feature (teaser) of what is yet to come. Wing Workbench has tree menu of objects, OpenGL 3D viewport and table for parameters of objects. 2 cylinders represent wheels for Formula Student puropse. There are 3 types of objects:

1. Components: most general objects, root of design which sets the origin center. e.g. Front Wing
2. Wing: part of component having acctual shape, e.g. Main Wing / Ruther / Stabilizer
3. Segment: part of wing which holds the shape, e.g. Ribs of Stabilizer

As in Airfoil designer bar menu allows for basic interactions. In some cases functions are similar.

FILE:
- NEW: creates new file by erasing stored data
- OPEN: opens saved project
- SAVE: saves a project (saving convention is changed since v0.3.0)
- EXPORT: it's a placeholder


EDIT functions are:
- ADD COMPONENT
- ADD WING
- ADD SEGMENT
- PREFERENCES: opens preferences window

VIEW:
- CHANGE PERSPECTIVE - doesn't work (placeholder)

MODULE:
- AIRFOIL MODULE - open airfoil module

## Final note
Please be forgiving and stay positive :D

  </script>
  </div>
</div>

<script>

    function openSubPage(link) {
    // Hide all sections
    document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));

    // Show selected section
    document.getElementById(sectionId).classList.add('active');

    // Hide all context menus
    document.querySelectorAll('.context-menu').forEach(el => el.style.display = 'none');

    // Show relevant context menu
    const menu = document.getElementById(`menu-${sectionId}`);
    if (menu) menu.style.display = 'block';
  }

    const mdText = document.getElementById('markdown-source').textContent.trim();
    const container = document.getElementById('changelog-container');

    const sections = mdText.split(/^@\s+/m).filter(Boolean);

    sections.forEach(section => {
      const [titleLine, ...bodyLines] = section.split('\n');
      const versionTitle = titleLine.trim();
      const htmlBody = marked.parse(bodyLines.join('\n'));

      const entry = document.createElement('details');
      entry.classList.add('markdown-entry');
      entry.innerHTML = `
        <summary>${versionTitle}</summary>
        <div>${htmlBody}</div>
      `;
      container.appendChild(entry);
    });
</script>
</body>
</html>
